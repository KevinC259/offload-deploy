import{d as C,r,M as k,G as V,c as l,a as e,b as o,w as d,f as h,F as m,n as w,k as F,V as v,z as x,u as g,W as L,t as c,X as N,g as S,o as i,_ as B}from"./index-CSkJ4Wth.js";import{c as E}from"./module-CucKkFkR.js";import"./request-Bb7olHYx.js";import"./index-xsH4HHeE.js";import"./auth-CnjZ6pwZ.js";const z={class:"search-filter-area"},I={class:"dataSourceList-header"},J={class:"dataSourceList-header-right"},$={class:"module-panel-page"},q={class:"module-grid"},D=["onClick"],G=["title"],P={class:"card-header"},R={class:"card-content"},T=["title"],W=["title"],X={class:"card-footer"},j={class:"module-label"},A=C({__name:"ModuleJsonView",setup(H){const b=S(),u=r(!1),a=r([]),_=r({});k(()=>_.value.id?a.value.filter(s=>s.id!==_.value.id):a.value);const y=async()=>{try{u.value=!0;const s=await E();a.value=s||[]}catch(s){console.error("获取模块列表失败:",s)}finally{u.value=!1}},p=s=>{b.push({path:"moduleConfig",query:{moduleId:s.id}})};return V(()=>{y()}),(s,n)=>{const M=h("el-button"),f=h("el-icon");return i(),l(m,null,[e("div",z,[e("div",I,[n[1]||(n[1]=e("span",null,"模块列表",-1)),e("div",J,[o(M,{type:"primary",onClick:p},{default:d(()=>n[0]||(n[0]=[F("导出配置")])),_:1})])])]),e("div",$,[e("div",q,[(i(!0),l(m,null,w(a.value,t=>(i(),l("div",{key:t.id,class:"module-card",style:v({"--module-accent-color":t.color||"#409EFF"}),onClick:K=>p(t)},[t.subModules&&t.subModules.length>0?(i(),l("div",{key:0,class:"subModules-badge",title:`包含 ${t.subModules.length} 个子模块`},[o(f,null,{default:d(()=>[o(g(L))]),_:1}),e("span",null,c(t.subModules.length),1)],8,G)):x("",!0),e("div",P,[e("div",{class:"card-icon-wrapper",style:v({backgroundColor:t.color||"#409EFF"})},[o(f,null,{default:d(()=>[o(g(N))]),_:1})],4)]),e("div",R,[e("h3",{class:"module-name",title:t.name},c(t.name||"未命名模块"),9,T),e("p",{class:"module-description",title:t.description},c(t.description||"暂无描述"),9,W)]),e("div",X,[e("span",j,c(t.label),1)])],12,D))),128))])])],64)}}}),ee=B(A,[["__scopeId","data-v-a0760f6b"]]);export{ee as default};
