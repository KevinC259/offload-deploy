import{d as R,r as v,M as m,x as j,G as J,I as L,g as P,c as f,a as t,p as k,b as n,w as g,f as b,u as h,ax as W,A as x,ay as z,V as q,F as M,n as V,az as H,k as B,i as Q,j as U,t as D,y as G,o as p,aA as I,B as X,D as Y,aB as Z,_ as ee}from"./index-CSkJ4Wth.js";const te={class:"page-container"},ae={class:"top-nav"},oe={class:"container"},se={class:"title-wrapper"},ne={class:"title-content"},le={class:"flow-chart-dropdown"},ie={class:"stepper"},re={class:"stepper-track"},ce={class:"stepper-steps"},ue=["onClick"],de={class:"group-label-content"},pe={class:"step-items"},_e=["onClick"],ve={class:"step-content"},me={class:"step-label"},fe={class:"main-content"},ge=R({__name:"NavigateConfigirationView",setup(he){const c=v(!1),l=v([]);m(()=>l.value.length>0);const N=()=>{c.value=!c.value,c.value||(l.value=[])},S=P(),w=L(),T=()=>{var o;const a=localStorage.getItem("inputModule_nav_inputModule");return a&&((o=JSON.parse(a).form)==null?void 0:o.optimizationType)||"优化变量"},F=e=>({模型导入:Z,优化变量:Y,目标函数:I,训练参数:X,优化结果:I})[e],u=m(()=>{const e=T(),a=[{id:1,label:"模型导入",routerKey:"nav_inputModule",group:"模型导入"}],o=e==="优化变量"?[{id:2,label:"优化变量",routerKey:"nav_optimizeVariables",group:"优化变量"}]:[{id:2,label:"拓扑优化",routerKey:"nav_topologyOptimization",group:"优化变量"},{id:3,label:"采样模块",routerKey:"nav_sampleModule",group:"优化变量"}],_=[{id:e==="优化变量"?3:4,label:"数据源",routerKey:"nav_dataSource",group:"目标函数"},{id:e==="优化变量"?4:5,label:"标量",routerKey:"nav_scalar",group:"目标函数"},{id:e==="优化变量"?5:6,label:"优化目标",routerKey:"nav_optimizationTargets",group:"目标函数"}],y=[{id:e==="优化变量"?6:7,label:"全局参数",routerKey:"nav_globalParam",group:"训练参数"},{id:e==="优化变量"?7:8,label:"优化算法",routerKey:"nav_optimizeAlgorithm",group:"训练参数"},{id:e==="优化变量"?8:9,label:"预测器",routerKey:"nav_predictor",group:"训练参数"}],s=[{id:e==="优化变量"?9:10,label:"优化结果",routerKey:"nav_trainingResult",group:"优化结果"}];return[...a,...o,..._,...y,...s]}),d=v(1),i=v(1),A=m(()=>u.value.length),O=m(()=>i.value<=1?"0%":`${(i.value-1)/(A.value-1)*100}%`),K=e=>{const a=u.value.find(o=>o.routerKey===e);a&&(d.value=a.id,a.id>i.value&&(i.value=a.id))},$=e=>{d.value=e.id,d.value>i.value&&(i.value=d.value),S.push({name:e.routerKey})},E=e=>{l.value.includes(e)?l.value=[]:l.value=[e]},C=e=>l.value.includes(e);return j(()=>w.name,e=>{e&&typeof e=="string"&&K(e)},{immediate:!0}),J(()=>{const e=w.name;if(u.value.find(o=>o.routerKey===e))K(e);else{const o=u.value[0];d.value=o.id,S.push({name:o.routerKey})}}),(e,a)=>{const o=b("el-icon"),_=b("el-button"),y=b("router-view");return p(),f("div",te,[t("header",ae,[t("div",oe,[t("div",se,[t("div",ne,[n(o,{class:"title-icon"},{default:g(()=>[n(h(H))]),_:1}),a[0]||(a[0]=t("h1",{class:"title-text"},"优化任务",-1))]),n(_,{type:"text",onClick:N,class:"flow-chart-toggle-btn",icon:c.value?h(W):h(x),size:"small"},{default:g(()=>a[1]||(a[1]=[B(" 流程 ")])),_:1},8,["icon"])]),k(t("div",le,[t("div",ie,[t("div",re,[t("div",{class:"stepper-progress",style:q({width:O.value})},null,4)]),t("div",ce,[(p(),f(M,null,V(["模型导入","优化变量","目标函数","训练参数","优化结果"],s=>t("div",{key:s,class:"step-group"},[t("div",{class:"step-group-label",onClick:r=>E(s)},[t("div",de,[n(o,null,{default:g(()=>[(p(),Q(U(F(s))))]),_:2},1024),B(" "+D(s),1)]),n(o,{class:G(["expand-icon",{"is-expanded":C(s)}])},{default:g(()=>[n(h(x))]),_:2},1032,["class"])],8,ue),k(t("div",pe,[(p(!0),f(M,null,V(u.value.filter(r=>r.group===s),r=>(p(),f("div",{key:r.id,class:G(["step-item",{clickable:!0}])},[t("div",{class:"step-header",onClick:ye=>$(r)},[t("div",ve,[t("div",me,D(r.label),1)])],8,_e)]))),128))],512),[[z,C(s)]])])),64))])])],512),[[z,c.value]])])]),t("main",fe,[n(y)])])}}}),Se=ee(ge,[["__scopeId","data-v-16142eea"]]);export{Se as default};
