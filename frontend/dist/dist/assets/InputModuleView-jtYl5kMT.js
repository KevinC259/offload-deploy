import{d as q,M as p,I as B,G as j,r as s,L as V,c as g,a as n,z as J,b as a,w as r,f as y,F as w,n as C,k as c,g as K,o as _,E as f,_ as L}from"./index-CSkJ4Wth.js";import{e as G}from"./function-CwdAX250.js";import"./request-Bb7olHYx.js";import"./index-xsH4HHeE.js";import"./auth-CnjZ6pwZ.js";const H=[{targetType:"Type_A1",dataDimension:"Dim_1",condition:"Cond_alpha",goal:"Maximize",range:"0.1-0.9",predictDimension:"Pred_1",weight:.75,index:1},{targetType:"Type_B2",dataDimension:"Dim_2",condition:"Cond_beta",goal:"Minimize",range:"0.2-0.8",predictDimension:"Pred_2",weight:.65,index:2},{targetType:"Type_C3",dataDimension:"Dim_3",condition:"Cond_gamma",goal:"Equal",range:"0.3-0.7",predictDimension:"Pred_3",weight:.85,index:3},{targetType:"Type_D4",dataDimension:"Dim_4",condition:"Cond_delta",goal:"Maximize",range:"0.4-0.6",predictDimension:"Pred_4",weight:.55,index:4},{targetType:"Type_E5",dataDimension:"Dim_5",condition:"Cond_epsilon",goal:"Minimize",range:"0.5-0.9",predictDimension:"Pred_5",weight:.45,index:5},{targetType:"Type_F6",dataDimension:"Dim_6",condition:"Cond_zeta",goal:"Equal",range:"0.2-1.0",predictDimension:"Pred_6",weight:.95,index:6},{targetType:"Type_G7",dataDimension:"Dim_7",condition:"Cond_eta",goal:"Maximize",range:"0.1-0.5",predictDimension:"Pred_7",weight:.7,index:7},{targetType:"Type_H8",dataDimension:"Dim_8",condition:"Cond_theta",goal:"Minimize",range:"0.3-0.8",predictDimension:"Pred_8",weight:.6,index:8},{targetType:"Type_I9",dataDimension:"Dim_9",condition:"Cond_iota",goal:"Equal",range:"0.4-0.7",predictDimension:"Pred_9",weight:.8,index:9},{targetType:"Type_J10",dataDimension:"Dim_10",condition:"Cond_kappa",goal:"Maximize",range:"0.2-0.9",predictDimension:"Pred_10",weight:.5,index:10},{targetType:"Type_K11",dataDimension:"Dim_11",condition:"Cond_lambda",goal:"Minimize",range:"0.1-0.6",predictDimension:"Pred_11",weight:.9,index:11},{targetType:"Type_L12",dataDimension:"Dim_12",condition:"Cond_mu",goal:"Equal",range:"0.3-0.9",predictDimension:"Pred_12",weight:.55,index:12},{targetType:"Type_M13",dataDimension:"Dim_13",condition:"Cond_nu",goal:"Maximize",range:"0.2-0.7",predictDimension:"Pred_13",weight:.65,index:13},{targetType:"Type_N14",dataDimension:"Dim_14",condition:"Cond_xi",goal:"Minimize",range:"0.4-0.8",predictDimension:"Pred_14",weight:.75,index:14},{targetType:"Type_O15",dataDimension:"Dim_15",condition:"Cond_omicron",goal:"Equal",range:"0.1-0.8",predictDimension:"Pred_15",weight:.85,index:15},{targetType:"Type_P16",dataDimension:"Dim_16",condition:"Cond_pi",goal:"Maximize",range:"0.2-0.6",predictDimension:"Pred_16",weight:.6,index:16}],R={class:"input-module-view"},A={class:"top-section"},Q={class:"card model-import-section"},W={class:"form-group"},X={style:{flex:"1"}},Y={class:"form-group"},Z={style:{flex:"1"}},ee={class:"form-group file-path"},te={class:"form-group file-path"},oe={class:"form-group"},ie={style:{flex:"1"}},ne={class:"form-group"},ae={style:{flex:"1"}},le={key:0,class:"global-actions"},se=q({__name:"InputModuleView",setup(re){const D=K(),v=B(),T=p(()=>v.name==="nav_inputModule"),S=()=>{D.push({name:"nav_configuration"})},M=async()=>{try{if(T.value){const t=`inputModule_${String(v.name)}`,e={form:i.value,timestamp:new Date().toISOString(),routeName:v.name};localStorage.setItem(t,JSON.stringify(e))}}catch(t){throw console.error("保存配置失败:",t),t}},z=()=>{if(T.value){const t=`inputModule_${String(v.name)}`,e=localStorage.getItem(t);if(e){const l=JSON.parse(e);l.form&&(i.value={...i.value,...l.form})}}},F=async()=>{try{const t={form:i.value,objectives:h.value,timestamp:new Date().toISOString(),stepName:"模型导入"};await G(),console.log("模型导入配置已保存到后端:",t)}catch(t){throw console.error("保存配置失败:",t),t}},k=async()=>{try{await M(),F(),f.success("操作成功，正在跳转到下一步"),i.value.optimizationType==="优化变量"?D.push({name:"nav_optimizeVariables"}):D.push({name:"nav_topologyOptimization"})}catch(t){console.error("下一步操作失败:",t),f.error("操作失败，请重试")}};j(()=>{z()});const i=s({softwareType:"CST",fileName:`Model_${Math.floor(Math.random()*1e3)}`,simulationFilePath:`/path/to/simulation_${Math.random().toString(36).substring(2,8)}.sim`,saveFilePath:`/path/to/save_${Math.random().toString(36).substring(2,8)}.sim`,solverType:"时域求解器",optimizationType:"优化变量"}),N=["CST","HFSS","Custom"],I=["时域求解器","频域求解器"],O=["优化变量","拓扑优化"],h=s(H);s(!1);const P=s(1),x=s(5),E=p(()=>h.value.length),b=p(()=>Math.ceil(E.value/x.value)||1);p(()=>{const t=(P.value-1)*x.value,e=t+x.value;return h.value.slice(t,e)}),p(()=>{if(b.value===0)return[1];const t=[],e=5;let l=Math.max(1,P.value-2),d=Math.min(b.value,l+e-1);d-l+1<e&&(l=Math.max(1,d-e+1));for(let m=l;m<=d;m++)t.push(m);return t});const $=()=>{try{i.value.simulationFilePath=`/path/to/simulation_${Math.random().toString(36).substring(2,8)}.sim`}catch(t){console.error("浏览仿真文件路径失败:",t),f.error("浏览仿真文件路径失败")}},U=()=>{try{i.value.saveFilePath=`/path/to/save_${Math.random().toString(36).substring(2,8)}.sim`}catch(t){console.error("浏览保存文件路径失败:",t),f.error("浏览保存文件路径失败")}};return s(!1),s(!1),s(),s(),s(null),V({targetType:"",dataDimension:"",condition:"",goal:"",range:"",predictDimension:"",weight:null,index:null}),V({targetType:"",dataDimension:"",condition:"",goal:"",range:"",predictDimension:"",weight:null,index:null}),(t,e)=>{const l=y("el-option"),d=y("el-select"),m=y("el-input"),u=y("el-button");return _(),g("div",R,[n("div",A,[n("div",Q,[e[14]||(e[14]=n("span",{class:"card-title"},"模型导入",-1)),n("div",W,[e[6]||(e[6]=n("label",null,"软件通用类型",-1)),n("div",X,[a(d,{modelValue:i.value.softwareType,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value.softwareType=o),placeholder:"请选择类型"},{default:r(()=>[(_(),g(w,null,C(N,o=>a(l,{key:o,label:o,value:o},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])]),n("div",Y,[e[7]||(e[7]=n("label",null,"文件名称",-1)),n("div",Z,[a(m,{modelValue:i.value.fileName,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value.fileName=o),placeholder:"请输入文件名称"},null,8,["modelValue"])])]),n("div",ee,[e[9]||(e[9]=n("label",null,"仿真文件路径",-1)),a(m,{modelValue:i.value.simulationFilePath,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value.simulationFilePath=o),placeholder:"选择仿真文件路径"},null,8,["modelValue"]),a(u,{type:"primary",onClick:$},{default:r(()=>e[8]||(e[8]=[c("浏览")])),_:1})]),n("div",te,[e[11]||(e[11]=n("label",null,"文件保存路径",-1)),a(m,{modelValue:i.value.saveFilePath,"onUpdate:modelValue":e[3]||(e[3]=o=>i.value.saveFilePath=o),placeholder:"选择保存文件路径"},null,8,["modelValue"]),a(u,{type:"primary",onClick:U},{default:r(()=>e[10]||(e[10]=[c("浏览")])),_:1})]),n("div",oe,[e[12]||(e[12]=n("label",null,"求解器类型",-1)),n("div",ie,[a(d,{modelValue:i.value.solverType,"onUpdate:modelValue":e[4]||(e[4]=o=>i.value.solverType=o),placeholder:"请选择求解器"},{default:r(()=>[(_(),g(w,null,C(I,o=>a(l,{key:o,label:o,value:o},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])]),n("div",ne,[e[13]||(e[13]=n("label",null,"优化方式",-1)),n("div",ae,[a(d,{modelValue:i.value.optimizationType,"onUpdate:modelValue":e[5]||(e[5]=o=>i.value.optimizationType=o),placeholder:"请选择优化方式"},{default:r(()=>[(_(),g(w,null,C(O,o=>a(l,{key:o,label:o,value:o},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])])])]),T.value?(_(),g("div",le,[a(u,{onClick:S},{default:r(()=>e[15]||(e[15]=[c("返回")])),_:1}),a(u,{type:"primary",onClick:M},{default:r(()=>e[16]||(e[16]=[c("保存配置")])),_:1}),a(u,{type:"primary",onClick:k},{default:r(()=>e[17]||(e[17]=[c("下一步")])),_:1})])):J("",!0)])}}}),ce=L(se,[["__scopeId","data-v-2ead4114"]]);export{ce as default};
